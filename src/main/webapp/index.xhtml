<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>lEEnkit</title>
            <h:outputStylesheet library="css" name="mystyle.css"/>
        </f:facet>
        <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    </h:head>

    <h:body>            

        <p:dialog header="Settings" widgetVar="settingsDialog" modal="true" resizable="false">
            <h:form enctype="multipart/form-data">

                <p:outputLabel value="property1" />
                <br/>
                <p:outputLabel value="property2" />
                <br/>
                <p:outputLabel value="property3" />
                <br/>

                <p:commandButton value="Cancel"/>
                <p:commandButton value="Save"/>
            </h:form>
        </p:dialog> 

        <p:dialog header="Upload new Track" widgetVar="uploadDialog" modal="true" resizable="false">
            <h:form enctype="multipart/form-data">
                <p:inputTextarea rows="4" cols="35" title="Track description" placeholder="Track description"/>
                <br/>
                <p:fileUpload mode="simple"/>
                <p:commandButton value="Upload"/>
            </h:form>
        </p:dialog> 


        <div style="width: 480px; height: 480px; float: left; margin-left: 5%;">
            <h:form style="width: 100%; padding: 10px;">

                <p:menuButton value="#{dataBean.username}">
                    <p:menuitem value="Add new Track" icon="ui-icon-plusthick"
                                onclick="PF('uploadDialog').show();"/>
                    <p:menuitem value="Settings" icon="ui-icon-wrench"
                                onclick="PF('settingsDialog').show();" />
                    <p:separator />
                    <p:menuitem value="Log Out" icon="ui-icon-extlink"
                                action="#{userManager.logout}" />
                </p:menuButton> 

                <div style="float: right; margin: 10px;">
                    <p:clock pattern="dd.MM.yyyy HH:mm:ss" mode="server"/>
                </div>
            </h:form> 
            
            <p:dataList var="track" value="#{dataBean.tracks}" style="width:480px; float: left;">
                <f:facet name="header">Your Tracks</f:facet>  
                <p:button outcome="content" value="#{track}">
                    <f:param name="track" value="#{track}"/>
                </p:button>
            </p:dataList> 
            
        </div>
                        <!--<p:gmap center="65.0126144,25.4714526" zoom="11" type="hybrid" style="width:480px; height:480px; float: left;"/>-->
        <div id="mapcontainer">
            <p:gmap id="gmap" center="#{dataBean.mapCenter}" zoom="11" type="hybrid"
                    style="width:480px; height:480px; float: left;"/>
        </div>

        <h:form id="dform">                    
            <div class="ui-grid ui-grid-responsive" style="width: 90%; margin-left: 5%; margin-top: 25px; float: left;" >
                <div class="ui-grid-row" >
                    <div class="ui-grid-col-4">
                        Distance
                        <br/>
                        <p:inputText value="0.00" disabled="#{dataBean.disabled}"
                                                 maxlength="6"/>
                        km
                    </div>
                    <div class="ui-grid-col-4">
                        Duration
                        <br/>
                        <p:inputText value="00:00:00" disabled="#{dataBean.disabled}"
                                                 maxlength="8"/>
                    </div>
                    <div class="ui-grid-col-4">
                        Average Speed
                        <br/>
                        <p:inputText value="0.00" disabled="#{dataBean.disabled}"
                                                 maxlength="6"/>
                        kmh
                    </div>
                </div>
                <div class="ui-grid-row">Description</div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-8">
                        <p:inputTextarea value="track description ..." disabled="#{dataBean.disabled}"/>
                    </div>
                    <div class="ui-grid-col-4">
                        <p:commandButton value="#{dataBean.buttonText}" actionListener="#{dataBean.editData}"
                                         update="dform"/>
                        <p:commandButton value="Save" actionListener="#{dataBean.saveData}"
                                         update="dform" rendered="#{!dataBean.disabled}"/>
                    </div>
                </div>
            </div> 
        </h:form> 
                            
<!--        <div style="width: 90%; margin-left: 5%; margin-top: 25px; float: left;" >
            <p:panelGrid style="width: 100%;">
                <f:facet name="header">
                    <p:row>
                        <p:column>Distance</p:column>
                        <p:column>Duration</p:column>
                        <p:column>Average Speed</p:column>
                    </p:row>
                </f:facet>     

                <p:row>
                    <p:column style="text-align: center">
                        <p:inputText value="0.00" disabled="#{dataBean.disabled}"
                                     maxlength="6"/>
                        km
                    </p:column>
                    <p:column style="text-align: center">
                        <p:inputText value="00:00:00" disabled="#{dataBean.disabled}"
                                     maxlength="8"/>
                    </p:column>
                    <p:column style="text-align: center">
                        <p:inputText value="0.00" disabled="#{dataBean.disabled}"
                                     maxlength="6"/>
                        kmh
                    </p:column>
                </p:row>

                <p:row>
                    <p:column colspan="3" styleClass="ui-widget-header">Description</p:column>
                </p:row>

                <p:row>
                    <p:column colspan="2">
                        <p:inputTextarea value="track description ..." disabled="#{dataBean.disabled}"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
        </div>-->
        <p:separator />
    </h:body>
</html>

